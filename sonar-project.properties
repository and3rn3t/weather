# SonarCloud Configuration for Premium Weather App
# IMPORTANT: Keep this key in sync with the workflow args (-Dsonar.projectKey)
# to avoid server-side "Project not found" errors.
sonar.projectKey=and3rn3t_weather_ci
sonar.organization=and3rn3t

# Project Information
sonar.projectName=Premium Weather App (CI)
sonar.projectVersion=1.0.0

# Source Code Settings
sonar.sources=src
sonar.tests=src
sonar.test.inclusions=**/__tests__/**,**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx
sonar.test.exclusions=src/**/*.tsx,src/**/*.ts
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/coverage/**,**/*.config.js,**/*.config.ts,**/public/**,**/scripts/**,**/docs/**,**/*.md,**/*.json,**/backup/**,**/archive/**,**/legacy/**,**/deprecated/**,**/android/**,**/ios/**,**/*-debug.js,**/*-test.js,**/*-test.html,**/horror-*.js,**/horror-*.html,**/theme-*.js,**/test-*.js,**/instant-*.js,**/comprehensive-*.js,**/targeted-*.js,**/transparent-*.js,**/enhanced-*.js,**/console-*.js,**/background-*.js,**/final-*.js,**/simple-*.js,**/quote-*.js,**/mobile-nav-*.js,**/*.backup,**/*.bak,**/*.old,**/*.temp,**/*.tmp,src/styles/ios26-design-system-consolidated.css,src/styles/horror-icon-fixes.css,src/components/modernWeatherUI/iOS26WeatherDemo.tsx,src/utils/LocationTester.tsx,src/components/EnhancedSearchScreen.tsx

# TypeScript/JavaScript Settings
sonar.typescript.lcov.reportPaths=coverage/lcov.info
sonar.javascript.lcov.reportPaths=coverage/lcov.info
# Note: Generic test execution report disabled to avoid scan failures when file is absent.
# If needed later, generate a compliant report and set:
# sonar.testExecutionReportPaths=coverage/test-results.xml

# Coverage Settings
sonar.coverage.exclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx,**/__tests__/**,**/*.config.js,**/*.config.ts,**/vite.config.ts,**/vitest.config.ts,**/jest.config.js,**/eslint.config.js

# Note: some files temporarily excluded due to encoding issues; will be re-enabled after cleanup

# Quality Gate Settings
sonar.qualitygate.wait=true

# Reliability & Maintainability Rules (Enhanced)
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S125
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.test.*
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S2189
sonar.issue.ignore.multicriteria.e2.resourceKey=**/scripts/**
sonar.issue.ignore.multicriteria.e3.ruleKey=javascript:S2189
sonar.issue.ignore.multicriteria.e3.resourceKey=**/scripts/**
sonar.issue.ignore.multicriteria.e4.ruleKey=typescript:S1481
sonar.issue.ignore.multicriteria.e4.resourceKey=**/*.test.*
sonar.issue.ignore.multicriteria.e5.ruleKey=typescript:S1854
sonar.issue.ignore.multicriteria.e5.resourceKey=**/*.test.*

# Language Detection
sonar.language=ts
sonar.sourceEncoding=UTF-8

# Branch Settings (for pull requests)
sonar.pullrequest.provider=github
sonar.pullrequest.github.repository=and3rn3t/weather

# Additional Settings
sonar.scm.provider=git
sonar.scm.forceReloadAll=true

# New Code Definition
sonar.newCodePeriod.type=reference_branch
sonar.newCodePeriod.value=main

# Code Quality Thresholds
sonar.coverage.threshold=80
sonar.duplicated_lines_density.threshold=3
sonar.cognitive_complexity.threshold=15
