/**
 * FINAL Horror Quote Coverage Fix
 * Comprehensive solution for all screen sizes and resolutions
 */

/* CRITICAL: Hide quote completely until properly positioned */
.horror-quote-overlay,
.horror-weather-quote {
  /* Start with minimal visibility to prevent coverage */
  visibility: hidden !important;
  opacity: 0 !important;
  transition: opacity 0.3s ease !important;
}

/* Only show when properly configured */
.horror-quote-overlay.positioned,
.horror-weather-quote.positioned {
  visibility: visible !important;
  opacity: 1 !important;
}

/* Base responsive styles */
.horror-quote-overlay.positioned,
.horror-weather-quote.positioned {
  position: relative !important;
  display: block !important;

  /* Force document flow positioning */
  top: auto !important;
  left: auto !important;
  right: auto !important;
  bottom: auto !important;
  transform: none !important;

  /* Minimal z-index */
  z-index: 1 !important;

  /* Responsive sizing */
  max-width: min(80%, 500px) !important;
  width: auto !important;
  margin: 20px auto 80px auto !important;
  padding: 15px !important;

  /* Limited height to prevent coverage */
  max-height: 120px !important;
  overflow: hidden !important;

  /* Visual styling */
  background: rgba(0, 0, 0, 0.85) !important;
  background-image: none !important;
  border: 1px solid #8b0000 !important;
  border-radius: 8px !important;
  color: #ff6b6b !important;
  text-align: center !important;
  font-style: italic !important;
  font-size: 14px !important;
  line-height: 1.4 !important;
  box-shadow: 0 0 8px rgba(139, 0, 0, 0.3) !important;

  /* Ensure it doesn't interfere with layout */
  clear: both !important;
  flex-shrink: 0 !important;
}

/* Extra small screens (phones in portrait) */
@media (max-width: 400px) {
  .horror-quote-overlay.positioned,
  .horror-weather-quote.positioned {
    max-width: 95% !important;
    margin: 10px auto 60px auto !important;
    padding: 10px !important;
    max-height: 80px !important;
    font-size: 12px !important;
  }
}

/* Small screens (phones in landscape, small tablets) */
@media (min-width: 401px) and (max-width: 768px) {
  .horror-quote-overlay.positioned,
  .horror-weather-quote.positioned {
    max-width: 85% !important;
    margin: 15px auto 70px auto !important;
    padding: 12px !important;
    max-height: 100px !important;
    font-size: 13px !important;
  }
}

/* Medium screens (tablets, small desktops) */
@media (min-width: 769px) and (max-width: 1200px) {
  .horror-quote-overlay.positioned,
  .horror-weather-quote.positioned {
    max-width: 600px !important;
    margin: 20px auto 40px auto !important;
    padding: 15px !important;
    max-height: 120px !important;
    font-size: 14px !important;
  }
}

/* Large screens (desktops) */
@media (min-width: 1201px) {
  .horror-quote-overlay.positioned,
  .horror-weather-quote.positioned {
    max-width: 500px !important;
    margin: 25px auto 30px auto !important;
    padding: 20px !important;
    max-height: 140px !important;
    font-size: 15px !important;
  }
}

/* Short screens (landscape phones, short windows) */
@media (max-height: 600px) {
  .horror-quote-overlay.positioned,
  .horror-weather-quote.positioned {
    margin: 5px auto 30px auto !important;
    padding: 8px !important;
    max-height: 60px !important;
    font-size: 11px !important;
  }
}

/* Very short screens */
@media (max-height: 400px) {
  .horror-quote-overlay.positioned,
  .horror-weather-quote.positioned {
    display: none !important; /* Hide completely on very short screens */
  }
}

/* Text content responsive sizing */
.horror-quote-overlay.positioned .quote-text,
.horror-weather-quote.positioned .quote-text {
  font-size: inherit !important;
  line-height: 1.3 !important;
  margin: 0 !important;
}

.horror-quote-overlay.positioned .quote-attribution,
.horror-weather-quote.positioned .quote-attribution {
  font-size: 0.9em !important;
  margin-top: 5px !important;
  opacity: 0.8 !important;
}

/* Quotation marks responsive sizing */
.horror-weather-quote.positioned::before {
  content: '"' !important;
  font-size: 1.2em !important;
  position: absolute !important;
  top: 2px !important;
  left: 5px !important;
  color: #8b0000 !important;
  opacity: 0.6 !important;
}

.horror-weather-quote.positioned::after {
  content: '"' !important;
  font-size: 1.2em !important;
  position: absolute !important;
  bottom: 2px !important;
  right: 5px !important;
  color: #8b0000 !important;
  opacity: 0.6 !important;
}

/* JavaScript positioning trigger */
.horror-quote-auto-position {
  animation: horrorQuoteReveal 0.5s ease-out forwards !important;
}

@keyframes horrorQuoteReveal {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
