/* Optimized CSS Structure for Weather App
   Combined and streamlined styles to reduce conflicts and improve performance
   August 21, 2025 - Consolidated from 20+ files into organized sections
*/

/* ============================================================================
   CORE FOUNDATION STYLES
   ============================================================================ */

:root {
  /* Typography */
  font-family:
    -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans',
    'Helvetica Neue', sans-serif;
  line-height: 1.5;
  font-weight: 400;
  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;

  /* Performance optimizations */
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* Mobile touch optimizations */
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;

  /* Safe area support for notched devices */
  --safe-area-inset-top: env(safe-area-inset-top);
  --safe-area-inset-bottom: env(safe-area-inset-bottom);
  --safe-area-inset-left: env(safe-area-inset-left);
  --safe-area-inset-right: env(safe-area-inset-right);

  /* Layout constants */
  --mobile-nav-height: 80px;
  --header-height: 60px;
  --content-padding: 16px;
}

/* Reset and base styles */
* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow-x: hidden;
}

#root {
  min-height: 100vh;
  position: relative;
}

/* ============================================================================
   IMPORT SECTIONS - ORGANIZED BY FUNCTIONALITY
   ============================================================================ */

/* 1. CORE THEME SYSTEMS */
@import './styles/theme-variables.css'; /* Theme colors and variables */

/* 2. LAYOUT FOUNDATION */
@import './styles/mobile-foundation.css'; /* Core mobile layout */
@import './styles/responsive-layout.css'; /* Responsive breakpoints */

/* 3. COMPONENT SYSTEMS */
@import './styles/navigation-system.css'; /* All navigation styles */
@import './styles/weather-components.css'; /* Weather card and display components */
@import './styles/ios26-components.css'; /* iOS26 design system */

/* 4. ENHANCEMENT LAYERS */
@import './styles/animations.css'; /* All animations and transitions */
@import './styles/typography.css'; /* Enhanced typography */

/* 5. THEME VARIATIONS */
/* Only light/dark themes are supported */

/* 6. UTILITY AND FIXES */
@import './styles/accessibility.css'; /* Accessibility enhancements */
@import './styles/performance-utils.css'; /* Performance utilities */

/* ============================================================================
   CRITICAL LAYOUT FIXES (INLINE TO ENSURE PRIORITY)
   ============================================================================ */

/* Safe area container - works with all themes */
.safe-area-container {
  padding-top: max(env(safe-area-inset-top), 12px);
  padding-bottom: calc(var(--mobile-nav-height) + max(env(safe-area-inset-bottom), 12px));
  padding-left: max(env(safe-area-inset-left), var(--content-padding));
  padding-right: max(env(safe-area-inset-right), var(--content-padding));
  min-height: calc(100dvh - var(--mobile-nav-height));
  overflow-x: hidden;
  overflow-y: auto;
}

/* Screen containers */
.screen-container,
.ios26-container,
.mobile-container {
  width: 100%;
  max-width: 100vw;
  min-height: calc(100dvh - var(--mobile-nav-height));
  padding: var(--content-padding);
  padding-bottom: calc(var(--mobile-nav-height) + var(--content-padding));
  overflow-x: hidden;
  overflow-y: auto;
}

/* Navigation positioning fix */
.mobile-navigation {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: var(--mobile-nav-height);
  z-index: 100;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

/* ============================================================================
   RESPONSIVE BREAKPOINTS
   ============================================================================ */

/* Small mobile devices */
@media (max-width: 375px) {
  :root {
    --content-padding: 12px;
  }

  .safe-area-container,
  .screen-container,
  .ios26-container,
  .mobile-container {
    padding: var(--content-padding);
    padding-bottom: calc(var(--mobile-nav-height) + var(--content-padding));
  }
}

/* Very small devices */
@media (max-width: 320px) {
  :root {
    --content-padding: 10px;
  }
}

/* Tablet and desktop - remove bottom navigation padding */
@media (min-width: 769px) {
  .safe-area-container,
  .screen-container,
  .ios26-container,
  .mobile-container {
    padding-bottom: var(--content-padding);
    min-height: 100dvh;
  }
}

/* Landscape orientation optimizations */
@media (orientation: landscape) and (max-height: 500px) {
  :root {
    --content-padding: 8px;
    --mobile-nav-height: 60px;
  }
}

/* ============================================================================
   PERFORMANCE UTILITIES
   ============================================================================ */

/* GPU acceleration for smooth animations */
.gpu-accelerated {
  transform: translateZ(0);
  will-change: transform, opacity;
}

/* Smooth scrolling */
.smooth-scroll {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
