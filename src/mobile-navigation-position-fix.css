/* MOBILE NAVIGATION POSITION FIX - JULY 2025 */
/* Ensures navigation stays at bottom per iOS guidelines and doesn't block content */

.app-container,
.main-content,
.content-area {
  z-index: 1 !important;
}

nav.mobile-navigation button {
  pointer-events: auto !important;
}e navigation to bottom of screen */
.mobile-navigation,
nav.mobile-navigation,
nav[role="navigation"],
div[role="navigation"] {
  position: fixed !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  top: auto !important; /* Prevent any top positioning */
  width: 100% !important;
  height: 80px !important;
  max-height: 80px !important;
  min-height: 80px !important;
  
  /* Ensure it's above content but not blocking */
  z-index: 100 !important;
  
  /* Prevent navigation from taking center screen */
  transform: none !important;
  margin: 0 !important;
  
  /* Glassmorphism styling */
  background: rgba(255, 255, 255, 0.9) !important;
  backdrop-filter: blur(20px) !important;
  -webkit-backdrop-filter: blur(20px) !important;
  border-top: 1px solid rgba(0, 0, 0, 0.1) !important;
  border-bottom: none !important;
  border-left: none !important;
  border-right: none !important;
  
  /* Safe area padding for modern devices */
  padding: 8px 16px !important;
  padding-bottom: calc(8px + env(safe-area-inset-bottom, 0)) !important;
  box-sizing: border-box !important;
}

/* Dark theme navigation */
html[data-theme="dark"] .mobile-navigation,
html[data-theme="dark"] nav[role="navigation"],
html[data-theme="dark"] div[role="navigation"] {
  background: rgba(28, 28, 30, 0.9) !important;
  border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* CRITICAL: Ensure main content area has proper bottom padding */
.mobile-app-container {
  padding-bottom: calc(80px + 16px + env(safe-area-inset-bottom, 0)) !important;
  box-sizing: border-box !important;
}

.mobile-content-area {
  padding-bottom: calc(80px + 16px + env(safe-area-inset-bottom, 0)) !important;
  box-sizing: border-box !important;
}

/* Screen containers should respect navigation space */
.screen-container,
.screen-content,
[data-screen] {
  padding-bottom: calc(80px + 16px + env(safe-area-inset-bottom, 0)) !important;
  box-sizing: border-box !important;
  max-height: calc(100vh - 80px - env(safe-area-inset-bottom, 0)) !important;
  overflow-y: auto !important;
}

/* Prevent any floating or centered navigation styles */
nav.mobile-navigation {
  float: none !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-around !important;
  z-index: 1000 !important;
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
}

/* Navigation buttons proper sizing */
.mobile-navigation button,
.mobile-navigation [role="tab"] {
  flex: 1 !important;
  max-width: none !important;
  height: 64px !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  margin: 0 2px !important;
  
  /* Prevent buttons from floating or expanding */
  position: relative !important;
  float: none !important;
}

/* EMERGENCY: If navigation appears in center, force it back to bottom */
.mobile-navigation:not([style*="bottom"]) {
  bottom: 0 !important;
  top: auto !important;
  left: 0 !important;
  right: 0 !important;
  position: fixed !important;
}

/* Responsive fixes for different screen sizes */
@media (max-width: 768px) {
  .mobile-navigation {
    display: flex !important;
  }
  
  /* Ensure content doesn't overflow behind navigation */
  .weather-details-screen,
  .home-screen,
  .settings-screen,
  .search-screen,
  .favorites-screen {
    margin-bottom: calc(80px + 16px) !important;
    max-height: calc(100vh - 80px - 16px) !important;
    overflow-y: auto !important;
  }
}

@media (min-width: 769px) {
  .mobile-navigation {
    display: none !important;
  }
}

/* Prevent any fullscreen overlays from hiding navigation */
.ios-component-showcase,
.modal-overlay,
.fullscreen-content {
  bottom: 80px !important;
  max-height: calc(100vh - 80px) !important;
}

/* Fix any z-index conflicts and accessibility */
nav.mobile-navigation {
  z-index: 1000 !important;
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
}

.app-container,
.main-content,
.content-area {
  z-index: 1 !important;
}

.mobile-navigation button {
  pointer-events: auto !important;
}
