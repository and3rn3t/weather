/* iOS26 Seamless Navigation Bar - Full Width Tab Layout */
/* Overrides liquid-glass-navigation.css to create seamless full-width tabs */

/* Navigation container - full width glassmorphism */
nav.mobile-navigation {
  /* Apple Materials System - Thick Material */
  background: rgba(255, 255, 255, 0.8) !important;
  backdrop-filter: blur(20px) saturate(180%) brightness(1.1) !important;
  -webkit-backdrop-filter: blur(20px) saturate(180%) brightness(1.1) !important;

  /* Apple-style borders and shadows */
  border-top: 0.33px solid rgba(255, 255, 255, 0.5) !important;
  border-bottom: none !important;
  box-shadow: 0 0 0 0.33px rgba(0, 0, 0, 0.04), 0 -0.33px 0 0 rgba(255, 255, 255, 0.5) inset,
    0 0.33px 0 0 rgba(0, 0, 0, 0.04) inset, 0 -8px 24px rgba(120, 97, 255, 0.03), 0 -16px 48px rgba(0, 0, 0, 0.06) !important;

  /* CRITICAL: Force bottom positioning - override all other CSS */
  position: fixed !important;
  bottom: 0 !important;
  top: auto !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 1000 !important;

  /* FIXED HEIGHT - standard navigation bar height */
  height: calc(83px + env(safe-area-inset-bottom, 0)) !important;
  min-height: calc(83px + env(safe-area-inset-bottom, 0)) !important;
  max-height: calc(83px + env(safe-area-inset-bottom, 0)) !important;

  /* Flexbox for seamless full-width layout */
  display: flex !important;
  align-items: stretch !important;
  justify-content: stretch !important;

  /* NO padding to allow full-width tabs */
  padding: 0 !important;

  /* Safe area insets for modern iPhones */
  padding-bottom: env(safe-area-inset-bottom, 0) !important;

  /* Smooth appearance animation */
  transition: all 0.4s cubic-bezier(0.28, 0, 0.63, 1) !important;
}

/* Navigation tabs - fill entire space seamlessly */
nav.mobile-navigation .nav-tab {
  /* Full stretch layout */
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;

  /* Fill width but constrain height to navigation bar */
  width: 100% !important;
  height: 100% !important; /* 100% of the navigation container height (83px) */
  min-height: 83px !important;
  max-height: 83px !important;

  /* NO margins, borders, or gaps */
  margin: 0 !important;
  padding: 8px 4px 8px 4px !important;
  border: none !important;
  border-radius: 0 !important;

  /* Transparent background by default */
  background: transparent !important;

  /* Apple motion guidelines - smooth and natural */
  transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;

  /* Accessibility and interaction */
  -webkit-tap-highlight-color: transparent !important;
  touch-action: manipulation !important;
  user-select: none !important;
  cursor: pointer !important;

  /* Remove button appearance */
  appearance: none !important;
  -webkit-appearance: none !important;
  outline: none !important;
}

/* Active state - subtle highlight across full width */
nav.mobile-navigation .nav-tab.active {
  background: linear-gradient(135deg, rgba(120, 97, 255, 0.08), rgba(138, 67, 255, 0.04)) !important;
  backdrop-filter: blur(12px) saturate(150%) !important;
  -webkit-backdrop-filter: blur(12px) saturate(150%) !important;

  /* Subtle elevation without breaking seamless layout */
  box-shadow: inset 0 1px 0 rgba(120, 97, 255, 0.1), inset 0 -1px 0 rgba(120, 97, 255, 0.05) !important;
}

/* Hover state for non-active tabs */
nav.mobile-navigation .nav-tab:not(.active):hover {
  background: rgba(120, 97, 255, 0.03) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
}

/* Icon styling */
nav.mobile-navigation .nav-tab .nav-icon {
  font-size: 22px !important;
  margin-bottom: 2px !important;
  line-height: 1 !important;
  transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;

  /* Center the icon perfectly */
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Active icon with subtle glow */
nav.mobile-navigation .nav-tab.active .nav-icon {
  transform: scale(1.05) !important;
  filter: drop-shadow(0 1px 4px rgba(120, 97, 255, 0.25)) !important;
}

/* Label styling */
nav.mobile-navigation .nav-tab .nav-label {
  font-size: 10px !important;
  font-weight: 500 !important;
  color: rgba(60, 60, 67, 0.75) !important; /* Apple label secondary */
  letter-spacing: 0.1px !important;
  line-height: 1.2 !important;
  text-align: center !important;
  transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;

  /* Prevent text overflow */
  max-width: 100% !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

/* Active label with purple accent */
nav.mobile-navigation .nav-tab.active .nav-label {
  font-weight: 600 !important;
  color: rgb(120, 97, 255) !important;
  text-shadow: 0 0 8px rgba(120, 97, 255, 0.2) !important;
}

/* Press state for immediate feedback */
nav.mobile-navigation .nav-tab:active {
  transform: scale(0.98) !important;
  transition: transform 0.1s ease-out !important;
}

nav.mobile-navigation .nav-tab.active:active {
  transform: scale(0.99) !important;
  transition: transform 0.1s ease-out !important;
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  nav.mobile-navigation {
    /* Dark thick material */
    background: rgba(28, 28, 30, 0.85) !important;
    backdrop-filter: blur(20px) saturate(180%) brightness(1.2) !important;
    -webkit-backdrop-filter: blur(20px) saturate(180%) brightness(1.2) !important;

    /* Dark borders */
    border-top-color: rgba(255, 255, 255, 0.08) !important;
    box-shadow: 0 0 0 0.33px rgba(255, 255, 255, 0.04), 0 -0.33px 0 0 rgba(255, 255, 255, 0.06) inset,
      0 0.33px 0 0 rgba(0, 0, 0, 0.12) inset, 0 -8px 24px rgba(138, 67, 255, 0.05), 0 -16px 48px rgba(0, 0, 0, 0.25) !important;
  }

  /* Dark mode active state */
  nav.mobile-navigation .nav-tab.active {
    background: linear-gradient(135deg, rgba(138, 67, 255, 0.12), rgba(120, 97, 255, 0.08)) !important;
    box-shadow: inset 0 1px 0 rgba(138, 67, 255, 0.15), inset 0 -1px 0 rgba(138, 67, 255, 0.08) !important;
  }

  /* Dark mode inactive label color */
  nav.mobile-navigation .nav-tab .nav-label {
    color: rgba(235, 235, 245, 0.6) !important; /* Apple label tertiary dark */
  }

  /* Dark mode active label */
  nav.mobile-navigation .nav-tab.active .nav-label {
    color: rgb(138, 67, 255) !important;
    text-shadow: 0 0 8px rgba(138, 67, 255, 0.3) !important;
  }

  /* Dark mode active icon glow */
  nav.mobile-navigation .nav-tab.active .nav-icon {
    filter: drop-shadow(0 1px 4px rgba(138, 67, 255, 0.35)) !important;
  }

  /* Dark mode hover state */
  nav.mobile-navigation .nav-tab:not(.active):hover {
    background: rgba(138, 67, 255, 0.06) !important;
  }
}

/* Accessibility support */
@media (prefers-reduced-motion: reduce) {
  nav.mobile-navigation,
  nav.mobile-navigation .nav-tab,
  nav.mobile-navigation .nav-tab .nav-icon,
  nav.mobile-navigation .nav-tab .nav-label {
    transition: none !important;
    animation: none !important;
    transform: none !important;
  }

  nav.mobile-navigation .nav-tab.active {
    transform: none !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  nav.mobile-navigation {
    border-top: 1px solid !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    background: rgba(255, 255, 255, 0.95) !important;
  }

  nav.mobile-navigation .nav-tab.active {
    border: 2px solid rgb(120, 97, 255) !important;
    border-radius: 4px !important;
    margin: 2px !important;
  }

  @media (prefers-color-scheme: dark) {
    nav.mobile-navigation {
      background: rgba(0, 0, 0, 0.95) !important;
    }
  }
}

/* Remove any conflicting button styles */
nav.mobile-navigation button,
nav.mobile-navigation button[role='tab'] {
  display: none !important;
}

/* CRITICAL OVERRIDE: Force bottom positioning with maximum specificity */
body nav.mobile-navigation,
html body nav.mobile-navigation,
div nav.mobile-navigation,
main nav.mobile-navigation {
  position: fixed !important;
  bottom: 0 !important;
  top: auto !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 9999 !important;
}
